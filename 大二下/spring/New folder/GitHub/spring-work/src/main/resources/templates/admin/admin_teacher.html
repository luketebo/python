<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>作业管理系统</title>
    <link href="https://cdn.bootcdn.net/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.css" rel="stylesheet">
    <script src="https://cdn.bootcdn.net/ajax/libs/jquery/2.2.4/jquery.js"></script>
    <script src="https://cdn.bootcdn.net/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.js"></script>
    <link rel="stylesheet" type="text/css" href="/css/select.css">
    <link rel="stylesheet" type="text/css" href="/css/弹窗.css">
</head>
<body>
<div class="bigbox">
    <input type="checkbox" id="checkbox">
    <label for="checkbox">
        <img src="/icon/menu.png" alt="功能按钮">
    </label>
    <ul>
        <li><a href="#" class="w"><img src="/icon/user.png" alt="1"><span>管理员</span></a></li>
        <li><a href="/AssignMent/teacher/admin"><img src="/icon/te.png" alt="2"><span>管理老师</span></a></li>
        <li><a href="/AssignMent/student/admin"><img src="/icon/stu.png" alt="3"><span>管理学生</span></a></li>
    </ul>
</div>
<div class="body">
    <table class="table table-bordered">
        <div>
            <caption style="font-size: 25px;margin-left: 20px"> 老师管理
                <a class="btn btn-default btn-small" href="#" role="button" style="margin-right: 10px;float: right"><span class="glyphicon glyphicon-user"></span> 添加</a>
            </caption>
<!--            <div class="modal">-->
<!--                <form class="modal-content" role="form" th:action="@{/AssignMent/teacher/save}" method="post" enctype="multipart/form-data">-->
<!--                    <div > <span style="font-size: 20px;text-align: left">添加教师</span><span class="close">&times;</span></div>-->
<!--                    <hr style="margin-top: 5px">-->
<!--                    <div >-->
<!--                        <label for="username1" style="margin: 0 20px 10px;">姓名：</label>-->
<!--                        <input id="username1" type="text" name="name">-->
<!--                    </div>-->
<!--                    <div>-->
<!--                        <label for="classes1" style="margin: 0 6px 10px">管理班级：</label>-->
<!--                        <input id="classes1" type="text" name="class_id">-->
<!--                    </div>-->
<!--                    <div>-->
<!--                        <label for="post1" style="margin: 0 20px 10px">职称：</label>-->
<!--                        <input id="post1" type="text" name="post">-->
<!--                    </div>-->
<!--                    <div>-->
<!--                        <label for="hobby1" style="margin: 0 20px 10px">爱好：</label>-->
<!--                        <input id="hobby1" type="text" name="hobby">-->
<!--                    </div>-->
<!--                    <div>-->
<!--                        <label for="photo1" style="margin: 0 20px 10px">照片：</label>-->
<!--                        <input id="photo1" type="file" name="img" >-->
<!--                    </div>-->
<!--                    <div>-->
<!--                        <button class="btn btn-default" type="submit" id="yes">提 交</button>-->
<!--                    </div>-->
<!--                </form>-->
<!--            </div>-->
        </div>

        <thead>
        <tr>
            <th class="text-center">工号</th>
            <th class="text-center">姓名</th>
            <th class="text-center">管理班级</th>
            <th class="text-center">职称</th>
            <th class="text-center">爱好</th>
            <th class="text-center">照片</th>
            <th class="text-center">操作</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="t:${teachers}">
            <td class="text-center" th:text="${t.id}"></td>
            <td class="text-center" th:text="${t.name}"></td>
            <td class="text-center" th:text="${t.class_id}"></td>
            <td class="text-center" th:text="${t.post}"></td>
            <td class="text-center" th:text="${t.hobby}"></td>
            <td class="text-center" ><img th:src="@{/img/{id}(id=${t.getPhoto()})}" style="height: 60px;width: 60px" alt=""></td>
            <td class="text-center main">
                <button class="btn btn-default btn-small update"><span class="glyphicon glyphicon-pencil"></span> 更新</button>

                <div class="modal">
                    <form class="modal-content" role="form" th:action="@{/AssignMent/teacher/update}" method="post" enctype="multipart/form-data">
                        <div > <span style="font-size: 20px;text-align: left">更新信息</span><span class="close">&times;</span></div>
                        <hr style="margin-top: 5px">
                        <div >
                            <label for="id" style="margin: 0 -145px 10px;padding-right: 170px">工号：</label>
                            <p id="id" class="from-control-static" style="display: inline-block" th:text="${t.id}"></p>
                            <input type="hidden" name="id" th:value="${t.id}">
                        </div>
                        <div >
                            <label for="username" style="margin: 0 20px 10px;">姓名：</label>
                            <input id="username" type="text" name="name" th:value="${t.name}">
                        </div>
                        <div>
                            <label for="classes" style="margin: 0 6px 10px">管理班级：</label>
                            <input id="classes" type="text" name="clas" th:value="${t.class_id}">
                        </div>
                        <div>
                            <label for="post" style="margin: 0 20px 10px">职称：</label>
                            <input id="post" type="text" name="clas" th:value="${t.post}">
                        </div>
                        <div>
                            <label for="hobby" style="margin: 0 20px 10px">爱好：</label>
                            <input id="hobby" type="text" name="hobby" th:value="${t.hobby}">
                        </div>
                        <div>
                            <label for="photo" style="margin: 0 20px 35px;padding-left: 150px">照片：</label>
                            <img id="photo" th:src="@{/img/{id}(id=${t.getPhoto()})}" style="height: 60px;width: 60px">
                            <input type="file" name="img" style="display: inline-block">
                        </div>
                        <div>
                            <button class="btn btn-default" type="submit">提 交</button>
                        </div>
                    </form>
                </div>
                <a class="btn btn-default btn-small" href="#" role="button" th:onclick="'deltea(\''+${t.id}+'\');'"><span class="glyphicon glyphicon-trash"></span> 删除</a>
            </td>
        </tr>
        </tbody>
    </table>
    <ul class="pager container">
        <li th:class="${previous}? 'previous':'disabled'" style="margin-right: 150px"><a style="float: none;" th:href="@{/AssignMent/teacher/admin(pn=${now}-1)}">&larr;Prev</a></li>
        <li th:class="${next}? 'next':'disabled'" style="margin-left: 150px"><a style="float: none;" th:href="@{/AssignMent/teacher/admin(pn=${now}+1)}">&rarr;Next</a></li>
    </ul>

</div>
<script>
    // 获取 <span> 元素，用于关闭弹窗
    var span = document.getElementsByClassName('close');
    // 获取弹窗
    var modal = document.getElementsByClassName("modal");
    // 打开弹窗的按钮对象
    var btn_1 = document.getElementsByClassName("update");
    for(var j=0;j<modal.length;j++){
        const i=j;
        btn_1[i].onclick = function (){
            n(i);
        }
        span[i].onclick = function (){
            m(i);
        }
    }
    function n(i){
        modal[i].style.display = "block";
    }
    function m(i){
        modal[i].style.display = "none";
    }
    function deltea(id){
        if (confirm("确定删除？")){
            window.location.href="/AssignMent/teacher/deltea?id="+id;//get请求
        }
    }
</script>
</body>
</html>